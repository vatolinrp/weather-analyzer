реализация поставленной задачи

4.1 Анализ доступных погодных веб-служб

Разрабатывая высоконагруженный модуль очень важно выбрать надежных поставщиков данных,
которые бесперебойно будут возвращать ожидаемый результат. В то же время, не имея достаточного
бюджета для покупки погодного пакета услуг у лидирующих веб сервисов, в рассмотрение были включены
хорошо зарекомендованные себя в сферах стартапов погодные службы, о которых пойдет речь дальше.

Первым был рассмотрен погодный портал AccuWeather. Он является одним из ведущих поставщиков
цифровой информации о погоде. Согласно его веб-сайту, AccuWeather предоставляет прогнозы погоды для
почти 3 миллионов местоположений во всем мире, и более миллиарда людей во всем мире полагаются на 
AccuWeather каждый день.

Компания постоянно работает над расширением своей аудитории, а также добавлением новых продуктов
и услуг, связанных с погодой. В конце прошлого года компания приобрела Sky Motion, разработчика
экстремальных краткосрочных и сильно локализованных прогнозов погоды. Приобретение Sky Motion
позволило AccuWeather запустить функцию MinuteCast, которая была представлена ​​в начале этого года.
В феврале AccuWeather объявила о партнерстве с Samsung, чтобы обеспечить предустановленное
приложение погоды на смартфоне Samsung Galaxy S5. Компания также планирует запустить канал
AccuWeather Channel, 24/7.

Разработчики могут использовать AccuWeather APITrack этого API для добавления суровых погодных
предупреждений, ежедневных и ежечасных прогнозов, текущих условий и других связанных с погодой
функций в свои приложения. Для некоторых возможностей версия freemium не доступна; AccuWeather
предоставляет практически все свои сервисы только за купленные планы. Разработчики, заинтересованные
в использовании API AccuWeather, могут связаться с отделом продаж компании по вопросам ценообразования.

Рассматривая погодные веб-службы, нельзя обойти и Австралийское бюро метеорологии. Оно отвечает за
оказание австралийцам помощи в борьбе с засухой, наводнениями, пожарами, штормами и другими суровыми
погодными условиями. Агентство также предоставляет разнообразные данные о погоде, климате и воде,
включая наблюдения в режиме реального времени, прогнозы компьютерной модели и сельскохозяйственные
бюллетени. 

В марте бюро запустило веб-сайт Наблюдения за погодой (WOW) и проект Met Office. Проект WOW является
еще одним примером краудсорсинга погоды. Австралийские энтузиасты погоды могут обмениваться
метеорологическими наблюдениями, фотографиями и другой информацией, используя веб-сайт WOW
(сайт WOW можно использовать бесплатно).

Еще одним примером качественного предоставления данных можно смело выделить Forecast.io. Эта служба
погоды, созданная с нуля и созданная для приложения Dark Sky Weather для iPhone и iPad. В марте 2013
года Forecast.io был запущен какотдельная служба погоды Forecast APITrack, этот API был предоставлен
разработчикам, чтобы они могли включать метеорологические данные и функциональные возможности
Forecast.io в сторонние приложения. Согласно веб-сайту, тысячи разработчиков подписались на
использование API Forecast. Приложения и веб-сайты, использующие данные о погоде Forecast.io,
включают DuckDuckGo, приложение Saga, приложение Weather Line и приложение Dark Sky. 

API Forecast можно использовать для получения метеорологических данных, включая текущие условия,
поминутные прогнозы, ежечасные прогнозы и ежедневные прогнозы. API может использоваться как для
некоммерческих, так и для коммерческих приложений, а 1000 вызовов API в день максимум бесплатны, что
делает ее очень хорошим вариантов для разработчиков. За вызовы API взимается плата в размере 1 доллар
США за 10000 вызовов (т.е. 0,01 цента за запрос), что превышает 1000 в день для бесплатного лимита.

Был взят в рассмотрение погодный проект компании AerisWeather. Основанная в 1996 году, миссия AerisWeather
заключалась в том, чтобы «быть самым надежным источником погоды в стране». Компания предоставляет
подробную и всеобъемлющую метеорологическую информацию, включая местные прогнозы погоды,
расширенные прогнозы и карты погоды.

AerisWeather постоянно работает над расширением своей продуктовой линейки, которая включает Aeris
Wear, Aeris Weather API, Aeris Weather Maps и Aeris Web. Airis Wear устройства. Погодные приложения с 
API-интерфейсом Aeris, показывают региональные и локальные изображения радаров, и в то же время 
оптимизированы для устройств Android Wear. Существует также бесплатная и профессиональная версия
Android-приложения Aeris Wear, которое предлагает покупки в внутри приложения.

Разработчики могут использовать Aeris Weather APITrack для включения метеорологических данных в
сторонние приложения для работы в Интернете, также на платформах iOS и Android. Компания предоставляет
Aeris JavaScript SDK, который включает в себя множество предустановленных виджетов JavaScript, которые
могут быть легко добавлены на веб-сайты или приложения. API Aeris Weather доступен для разработчиков
бесплатно; Тем не менее, бесплатный план API ограничен. Существует несколько платных планов,
от базового до корпоративного.

В ходе анализа веб-служб вызвало интерес национальное управление по исследованию океанов и
атмосферы (NOAA). Оно обеспечивает программный доступ к комплексным наборам данных о погоде через
национальную службу погоды NOAA APITrack. НОАА также обеспечивает программный доступ к
климатическим данным, геопространственным информационным системам и данным, имеющимся в
хранилище Historical Observing Metadata Repository (HOMR). Эти наборы данных предоставляются
национальным центром климатических данных NOAA (NCDC), который, согласно веб-сайту, ведет
крупнейший в мире архив климатических данных, собирающий данные с наземных станций, судов, буев,
радаров, государств.

Каждая компания-поставщик погодных данных предоставиляет очень некомфортные условия для
разработчиков без стартового капитала. Было принято решение о выборе Accuweather API и Dark Sky API,
так как данные службы имеют широкий спектр предоставляемых погодных характеристик бесплатно 
всего за 1000 вызовов в сутки.

4.2 Анализ спектра предоставляемых данных

Имея надежные источники погодных данных, было принято решение о детальном рассмотрении ответов,
возвращаемых данными погодными веб службами. В ходе анализа были найдены не только измерения
температуры воздуха и показатели скорости и направления ветра, но и данные о видимости, атмосферном давлении,
температуры по ощущениям, и многое другое, пример json ответа о текущем состоянии в городе Минске на 18 мая 2017
года от веб службы Accuweather можно увидеть на рисунке 4.1.
[рисунок 4.1]
Если обратить внимание на то, как предоставляется температура и давление, то можно приятно удивиться, увидев
данные в различных системах счисления. Пример такого результата можно увидеть на рисунке 4.2
[рисунок 4.2]
Также не остается без внимания ссылки на фотографии данного города, в нашем случае - города Минска. Пример одной 
из фотографий можно увидеть на рисунке 4.3.
[рисунок 4.3]
Подводя небольшой итог, можно смело сказать, что веб-сервис Accuweather очень хорошо себя зарекомендовал,
предоставляя данный диапозон погодных физических величин на бесплатном тарифе доступа.
Служба Dark Sky предоставляет меньшее количество данных о погоде, что отчетливо видно на рисунке 4.4
[рисунок 4.4]
В то же время стоит заметить большой плюс: в ответе от сервиса уже присутствует прогноз как по часам, так
и по дням вперед, что ослабляет нагрузку на логику со стороны клиента и уменьшает число запросов к самой
веб-службе, в то время как каждый запрос стоит денег.
Так как основная задача данной работы состоит в выявлении лидера, путем постоянного мониторинга предоставляемых
данных, то было принято решение об анализе температуры и давления, так как это две наиболее важные величины в
прогнозах, на которые в первую очередь обращают внимание пользователи, поэтому эти величины должны обязательно
быть предельно точными.

4.3 Локации и частота выполняемых измерений

Имея возможность получать прогнозы и текущее состояние окружающей среды за окном в любом месте на планете, привело
к вопросу о выборе геопозиций. Так как бесплатный тариф ограничен 1000 запросами от каждой службы, было принято решение
о покрытии только городов Республике Беларусь. Все города, вошедшие в рассмотрение изображены на рисунке 4.5.
[рисунок 4.5].
Выбранные погодные веб-службы предоставляют широкий спектр прогнозов, начиная от поминутного и заканчивая прогнозами
на дни и недели вперед. Рассмотрение прогнозов на день вперед и более дней, и дальнейший анализ не представляется существенным.
Результаты в таком случае будут усредненны и не представлять ценности. В то же время поминутный прогноз и анализ с текущим состоянием
окружающей среды не может быть достигнут из-за жесткой ограниченности в количестве вызовов в день. В итоге было принято решение о 
почасовом анализе погодных условий городов Республики Беларусь, что удобно вписывается под возможности данного модуля.

4.4 Оценивание точности прогнозов

Основной задачей является выявление лидера среди погодных веб-сервисов. Не имея критериев точности, сделать это не предстоит возможным.
Как следствие возникла потребность в определении границ допустимых погрешностей, отклонений от реальных, текущих показателей. Оценивая 
плавность изменения температуры и атмосфертого давления в ходе дня, было принято решение об определении оценок точности, которые указаны
на рисунке 4.6
[рисунок 4.6]
Стоит заметить, что 3 уровней точности более, чем достаточно, если брать во внимание, что учитывание числа результатов "близких к точному" будет
только в спорных случаях.   
